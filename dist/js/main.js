(()=>{"use strict";var __webpack_modules__={939:()=>{eval("\n;// CONCATENATED MODULE: ./modules/timer.js\n/*jshint esversion: 6 */\r\n\r\nconst timer = (deadline) => {\r\n\tconst timerHours = document.getElementById('timer-hours');\r\n\tconst timerMinutes = document.getElementById('timer-minutes');\r\n\tconst timerSeconds = document.getElementById('timer-seconds');\r\n\tconst timerAction = document.querySelector('.timer-action');\r\n\r\n\tconst getTimeRemaining = () => {\r\n\t\tlet dateStop = new Date(deadline).getTime();\r\n\t\tlet dateNow = new Date().getTime();\r\n\t\tlet timeRemaining = (dateStop - dateNow) / 1000;\r\n\t\tlet days = Math.floor(timeRemaining / 3600 / 24);\r\n\t\tlet hours = Math.floor((timeRemaining / 3600) % 24);\r\n\t\tlet minutes = Math.floor((timeRemaining / 60) % 60);\r\n\t\tlet seconds = Math.floor(timeRemaining % 60);\r\n\t\treturn { timeRemaining, days, hours, minutes, seconds };\r\n\t};\r\n\r\n\tconst checkTimeFormat = (item) => {\r\n\t\tif (item.toString().length < 2) {\r\n\t\t\titem = '0' + item;\r\n\t\t}\r\n\t\treturn item;\r\n\t};\r\n\r\n\tconst updateClock = (getTime) => {\r\n\t\ttimerAction.textContent = `До конца акции осталось ${getTime.days} дн.`;\r\n\r\n\t\ttimerHours.textContent = checkTimeFormat(getTime.hours);\r\n\t\ttimerMinutes.textContent = checkTimeFormat(getTime.minutes);\r\n\t\ttimerSeconds.textContent = checkTimeFormat(getTime.seconds);\r\n\t};\r\n\r\n\tconst getTime = getTimeRemaining();\r\n\tif (getTime.timeRemaining > 0) {\r\n\t\tsetInterval(() => {\r\n\t\t\tupdateClock(getTime);\r\n\t\t}, 1000);\r\n\t} else {\r\n\t\ttimerAction.textContent = `До конца акции осталось 0 дн.`;\r\n\t\ttimerHours.textContent = '00';\r\n\t\ttimerMinutes.textContent = '00';\r\n\t\ttimerSeconds.textContent = '00';\r\n\t}\r\n};\r\n\r\n/* harmony default export */ const modules_timer = (timer);\r\n\n;// CONCATENATED MODULE: ./modules/menu.js\n/*jshint esversion: 6 */\r\n\r\nconst menu = () => {\r\n\tconst menu = document.querySelector('menu');\r\n\tlet positionX = -100;\r\n\tlet idAnimation;\r\n\r\n\tconst handleMenu = () => {\r\n\t\tif (window.screen.width >= 768) {\r\n\t\t\tcancelAnimationFrame(idAnimation);\r\n\t\t\tif (!menu.style.transform) {\r\n\t\t\t\tmenuAnimationOn();\r\n\t\t\t} else {\r\n\t\t\t\tmenuAnimationOff();\r\n\t\t\t}\r\n\t\t} else if (window.screen.width < 768) {\r\n\t\t\tif (!menu.style.transform) {\r\n\t\t\t\tmenu.style.transform = 'translateX(100%)';\r\n\t\t\t} else {\r\n\t\t\t\tmenu.style.transform = '';\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst menuAnimationOn = () => {\r\n\t\tidAnimation = requestAnimationFrame(menuAnimationOn);\r\n\t\tif (positionX < 100) {\r\n\t\t\tpositionX += 10;\r\n\t\t\tmenu.style.transform = `translateX(${positionX}%)`;\r\n\t\t}\r\n\t};\r\n\tconst menuAnimationOff = () => {\r\n\t\tpositionX = -100;\r\n\t\tmenu.style.transform = '';\r\n\t};\r\n\r\n\tdocument.addEventListener('click', (e) => {\r\n\t\tif (e.target.closest('.close-btn') || e.target.closest('.menu') || e.target.matches('li>a') || (positionX > 0 && !e.target.matches('menu'))) {\r\n\t\t\te.preventDefault();\r\n\t\t\thandleMenu();\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_menu = (menu);\r\n\n;// CONCATENATED MODULE: ./modules/helpers.js\n/*jshint esversion: 6 */\r\n\r\nconst animate = function ({ timing, draw, duration }) {\r\n\tlet start = performance.now();\r\n\r\n\trequestAnimationFrame(function animate(time) {\r\n\t\t// timeFraction изменяется от 0 до 1\r\n\t\tlet timeFraction = (time - start) / duration;\r\n\t\tif (timeFraction > 1) timeFraction = 1;\r\n\r\n\t\t// вычисление текущего состояния анимации\r\n\t\tlet progress = timing(timeFraction);\r\n\r\n\t\tdraw(progress); // отрисовать её\r\n\r\n\t\tif (timeFraction < 1) {\r\n\t\t\trequestAnimationFrame(animate);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst appendStatusAnimation = function (element, status) {\r\n\telement.innerHTML = '';\r\n\r\n\tconst animation = document.createElement('div');\r\n\tanimation.className = 'loader';\r\n\r\n\tif (status === 'preload') {\r\n\t\tanimation.innerHTML = `<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n      width=\"24px\" height=\"47px\" viewBox=\"0 0 24 30\" style=\"enable-background:new 0 0 50 50;\" xml:space=\"preserve\">\r\n      <rect x=\"0\" y=\"0\" width=\"4\" height=\"16\" fill=\"#19b5fe\">\r\n      <animateTransform attributeType=\"xml\"\r\n      attributeName=\"transform\" type=\"translate\"\r\n      values=\"0 0; 0 20; 0 0\"\r\n      begin=\"0\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n      </rect>\r\n      <rect x=\"10\" y=\"0\" width=\"4\" height=\"16\" fill=\"#19b5fe\">\r\n      <animateTransform attributeType=\"xml\"\r\n      attributeName=\"transform\" type=\"translate\"\r\n      values=\"0 0; 0 20; 0 0\"\r\n      begin=\"0.2s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n      </rect>\r\n      <rect x=\"20\" y=\"0\" width=\"4\" height=\"16\" fill=\"#19b5fe\">\r\n      <animateTransform attributeType=\"xml\"\r\n      attributeName=\"transform\" type=\"translate\"\r\n      values=\"0 0; 0 20; 0 0\"\r\n      begin=\"0.4s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n      </rect>\r\n      </svg>`;\r\n\t}\r\n\tif (status === 'done') {\r\n\t\tanimation.innerHTML = `<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" \r\n    stroke=\"#19b5fe\"  stroke-width=\"3\" stroke-dasharray=\"100\">\r\n    <path id=\"check\" d=\"M 12,22 L 22,31 L 36,13\" \r\n       stroke-dashoffset=\"0\">\r\n    <animate attributeName=\"stroke-dashoffset\" \r\n            from=\"100\" to=\"0\" dur=\"2s\"></animate>\r\n    </path>\r\n    </svg>`;\r\n\t}\r\n\tif (status === 'error') {\r\n\t\tanimation.innerHTML = `<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" \r\n    stroke=\"#19b5fe\" stroke-width=\"3\" stroke-dasharray=\"100\">\r\n    <path id=\"fail\" d=\"M 15,15 L 32,33 M 32,15 L 15,33\" \r\n       stroke-dashoffset=\"0\">\r\n    <animate attributeName=\"stroke-dashoffset\" \r\n            from=\"100\" to=\"0\" dur=\"2s\">\r\n    </animate>\r\n    </path>\r\n    </svg>`;\r\n\t}\r\n\r\n\telement.append(animation);\r\n};\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./modules/modal.js\n/*jshint esversion: 6 */\r\n\r\n\r\n\r\nconst modal = () => {\r\n\tconst popupBtns = document.querySelectorAll('.popup-btn');\r\n\tconst modal = document.querySelector('.popup');\r\n\r\n\tpopupBtns.forEach((item) => {\r\n\t\titem.addEventListener('click', () => {\r\n\t\t\tmodal.style.display = 'block';\r\n\t\t\tanimate({\r\n\t\t\t\tduration: 700,\r\n\t\t\t\ttiming(timeFraction) {\r\n\t\t\t\t\treturn Math.pow(timeFraction, 2);\r\n\t\t\t\t},\r\n\t\t\t\tdraw(progress) {\r\n\t\t\t\t\tmodal.style.opacity = `${progress * 100}%`;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tmodal.addEventListener('click', (e) => {\r\n\t\tif (!e.target.closest('.popup-content') || e.target.classList.contains('popup-close')) {\r\n\t\t\tmodal.style.display = 'none';\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_modal = (modal);\r\n\n;// CONCATENATED MODULE: ./modules/smoothScroll.js\n/*jshint esversion: 6 */\r\n\r\nconst smoothScroll = () => {\r\n\tconst scrollBtn = document.querySelector('[href = \"#service-block\"]');\r\n\tconst serviceBlock = document.getElementById('service-block');\r\n\tconst menuItems = document.querySelectorAll('menu>ul>li>a');\r\n\r\n\tconst scrollUp = function (object) {\r\n\t\tobject.scrollIntoView({ block: 'start', behavior: 'smooth' });\r\n\t};\r\n\r\n\tscrollBtn.addEventListener('click', (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tscrollUp.bind(serviceBlock)(serviceBlock);\r\n\t});\r\n\r\n\tmenuItems.forEach((item) => {\r\n\t\tconst itemLink = document.getElementById(`${item.getAttribute('href').substring(1)}`);\r\n\t\titem.addEventListener('click', (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tscrollUp.bind(itemLink)(itemLink);\r\n\t\t});\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_smoothScroll = (smoothScroll);\r\n\n;// CONCATENATED MODULE: ./modules/calculator.js\n/*jshint esversion: 6 */\r\n\r\n\r\n\r\nconst calculator = (price = 100) => {\r\n\tconst calcBlock = document.querySelector('.calc-block');\r\n\tconst calcType = document.querySelector('.calc-type');\r\n\tconst calcSquare = document.querySelector('.calc-square');\r\n\tconst calcCount = document.querySelector('.calc-count');\r\n\tconst calcDay = document.querySelector('.calc-day');\r\n\tconst total = document.getElementById('total');\r\n\r\n\tconst countCalc = () => {\r\n\t\tconst calcTypeValue = +calcType.options[calcType.selectedIndex].value;\r\n\t\tconst calcSquareValue = calcSquare.value;\r\n\t\tlet totalValue = 0;\r\n\t\tlet calcCountValue = 1;\r\n\t\tlet calcDayValue = 1;\r\n\r\n\t\tif (calcCount.value > 1) {\r\n\t\t\tcalcCountValue += +calcCount.value / 10;\r\n\t\t}\r\n\t\tif (calcDay.value && calcDay.value < 5) {\r\n\t\t\tcalcDayValue = 2;\r\n\t\t} else if (calcDay.value && calcDay.value < 10) {\r\n\t\t\tcalcDayValue = 1.5;\r\n\t\t}\r\n\t\tif (calcTypeValue && calcSquareValue) {\r\n\t\t\ttotalValue = price * calcTypeValue * calcSquareValue * calcCountValue * calcDayValue;\r\n\t\t}\r\n\r\n\t\tif (calcSquareValue !== '' && calcCount.value !== '' && calcDay.value !== '') {\r\n\t\t\tconst textContentValue = +total.textContent;\r\n\t\t\tconst delayValue = totalValue - textContentValue;\r\n\t\t\tanimate({\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\ttiming(timeFraction) {\r\n\t\t\t\t\treturn timeFraction;\r\n\t\t\t\t},\r\n\t\t\t\tdraw(progress) {\r\n\t\t\t\t\ttotal.textContent = `${textContentValue + Math.ceil(progress * delayValue)}`;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\ttotal.textContent = 0;\r\n\t\t}\r\n\t};\r\n\r\n\t[calcSquare, calcCount, calcDay].forEach((item) => {\r\n\t\titem.addEventListener('input', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/\\D+/, '');\r\n\t\t});\r\n\t});\r\n\r\n\tcalcBlock.addEventListener('input', (e) => {\r\n\t\tif (e.target === calcType || e.target === calcSquare || e.target === calcCount || e.target === calcDay) {\r\n\t\t\tcountCalc();\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_calculator = (calculator);\r\n\n;// CONCATENATED MODULE: ./modules/textValidation.js\n/*jshint esversion: 6 */\r\n\r\nconst textValidation = () => {\r\n\t/* Главная страница */\r\n\tconst form1Name = document.getElementById('form1-name');\r\n\tconst form1Email = document.getElementById('form1-email');\r\n\tconst form1Phone = document.getElementById('form1-phone');\r\n\t/* Модальное окно */\r\n\tconst form3Name = document.getElementById('form3-name');\r\n\tconst form3Phone = document.getElementById('form3-phone');\r\n\tconst form3Email = document.getElementById('form3-email');\r\n\t/* Остались вопросы? */\r\n\tconst form2Name = document.getElementById('form2-name');\r\n\tconst form2Email = document.getElementById('form2-email');\r\n\tconst form2Phone = document.getElementById('form2-phone');\r\n\tconst form2Message = document.getElementById('form2-message');\r\n\r\n\t/* Функция форматирования Полей ввода type=text и placeholder=\"Ваше имя\"  */\r\n\tconst textFormFormat = function () {\r\n\t\tthis.addEventListener('input', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^а-яА-Я ]/, '');\r\n\t\t});\r\n\t\tthis.addEventListener('blur', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^а-яА-Я- ]+/, '');\r\n\t\t\te.target.value = e.target.value.replace(/\\s+/, ' ');\r\n\t\t\te.target.value = e.target.value.replace(/^[-\\s]+/, '');\r\n\t\t\te.target.value = e.target.value.replace(/[-\\s]+$/, '');\r\n\t\t\te.target.value = e.target.value[0].toUpperCase() + e.target.value.substr(1).toLowerCase();\r\n\t\t});\r\n\t};\r\n\r\n\t/* Функция форматирования Полей ввода type=text и placeholder=\"Ваше сообщение\"  */\r\n\tconst messageFormFormat = function () {\r\n\t\tthis.addEventListener('input', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^а-яА-Я0-9-.,;:!? ]/, '');\r\n\t\t});\r\n\t\tthis.addEventListener('blur', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^а-яА-Я0-9- ]+/, '');\r\n\t\t\te.target.value = e.target.value.replace(/\\s+/, ' ');\r\n\t\t\te.target.value = e.target.value.replace(/^[-\\s]+/, '');\r\n\t\t\te.target.value = e.target.value.replace(/[-\\s]+$/, '');\r\n\t\t\te.target.value = e.target.value[0].toUpperCase() + e.target.value.substr(1).toLowerCase();\r\n\t\t});\r\n\t};\r\n\t/* Функция форматирования Полей ввода type=email  */\r\n\tconst emailFormFormat = function () {\r\n\t\tthis.addEventListener('input', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^a-zA-Z0-9\\-@_.!~\\*']/, '');\r\n\t\t});\r\n\t\tthis.addEventListener('blur', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^a-zA-Z0-9@\\-_.!~\\*']+/, '');\r\n\t\t\te.target.value = e.target.value.replace(/\\s+/, ' ');\r\n\t\t\te.target.value = e.target.value.replace(/^[-\\s]+/, '');\r\n\t\t\te.target.value = e.target.value.replace(/[-\\s]+$/, '');\r\n\t\t});\r\n\t};\r\n\r\n\t/* Функция форматирования Полей ввода type=tel  */\r\n\tconst telFormFormat = function () {\r\n\t\tthis.addEventListener('input', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^0-9()-+]/, '');\r\n\t\t});\r\n\t\tthis.addEventListener('blur', (e) => {\r\n\t\t\te.target.value = e.target.value.replace(/[^0-9()-+]+/, '');\r\n\t\t\te.target.value = e.target.value.replace(/\\s+/, ' ');\r\n\t\t\te.target.value = e.target.value.replace(/^[-\\s]+/, '');\r\n\t\t\te.target.value = e.target.value.replace(/[-\\s]+$/, '');\r\n\t\t});\r\n\t};\r\n\r\n\t[form1Name, form2Name, form3Name].forEach((item) => textFormFormat.bind(item)());\r\n\tmessageFormFormat.bind(form2Message)();\r\n\t[form1Email, form2Email, form3Email].forEach((item) => emailFormFormat.bind(item)());\r\n\t[form1Phone, form2Phone, form3Phone].forEach((item) => telFormFormat.bind(item)());\r\n};\r\n\r\n/* harmony default export */ const modules_textValidation = (textValidation);\r\n\n;// CONCATENATED MODULE: ./modules/tabs.js\n/*jshint esversion: 6 */\r\n\r\nconst tabs = () => {\r\n\tconst tabContent = document.querySelectorAll('.service-tab');\r\n\tconst tabPanel = document.querySelector('.service-header');\r\n\tconst tabs = document.querySelectorAll('.service-header-tab');\r\n\r\n\ttabPanel.addEventListener('click', (e) => {\r\n\t\tif (e.target.closest('.service-header-tab')) {\r\n\t\t\tconst tabBtn = e.target.closest('.service-header-tab');\r\n\t\t\ttabs.forEach((tab, index) => {\r\n\t\t\t\tif (tab === tabBtn) {\r\n\t\t\t\t\ttab.classList.add('active');\r\n\t\t\t\t\ttabContent[index].classList.remove('d-none');\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttab.classList.remove('active');\r\n\t\t\t\t\ttabContent[index].classList.add('d-none');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/* harmony default export */ const modules_tabs = (tabs);\r\n\n;// CONCATENATED MODULE: ./modules/slider.js\n/*jshint esversion: 6 */\r\n\r\nconst slider = (portfolioContent, portfolioItem, classPortfolioActive, classDotActive) => {\r\n\tconst sliderBlock = document.querySelector(`.${portfolioContent}`);\r\n\tconst slides = document.querySelectorAll(`.${portfolioItem}`);\r\n\tlet dots;\r\n\tlet sliderTimeInterval = 2000;\r\n\tlet currentSlide = 0;\r\n\tlet intervalId;\r\n\r\n\tconst checkArguments = () => {\r\n\t\tif (!document.querySelector(`.${portfolioContent}`) || !document.querySelector(`.${portfolioItem}`) || !document.querySelector(`.${classPortfolioActive}`) || classDotActive !== 'dot-active') {\r\n\t\t\talert('ОШИБКА: Модуль slider() не запущен => проверьте аргументы функции slider() в index.js');\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\trenderDots();\r\n\t\t\tstartSlide(sliderTimeInterval);\r\n\t\t\taddListeners();\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderDots = (classDotActive = 'dot-active') => {\r\n\t\tslides.forEach((item, index) => {\r\n\t\t\tconst allDots = document.querySelector('.portfolio-dots');\r\n\t\t\tconst newLi = document.createElement('li');\r\n\t\t\tnewLi.classList.add('dot');\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tnewLi.classList.add(classDotActive);\r\n\t\t\t}\r\n\t\t\tallDots.append(newLi);\r\n\t\t});\r\n\t\tdots = document.querySelectorAll('.dot');\r\n\t};\r\n\r\n\tconst prevSlide = (elems, index, strClass) => {\r\n\t\telems[index].classList.remove(strClass);\r\n\t};\r\n\r\n\tconst nextSlide = (elems, index, strClass) => {\r\n\t\telems[index].classList.add(strClass);\r\n\t};\r\n\r\n\tconst autoSlide = () => {\r\n\t\tprevSlide(slides, currentSlide, classPortfolioActive);\r\n\t\tprevSlide(dots, currentSlide, classDotActive);\r\n\t\tcurrentSlide++;\r\n\t\tif (currentSlide >= slides.length) {\r\n\t\t\tcurrentSlide = 0;\r\n\t\t}\r\n\t\tnextSlide(slides, currentSlide, classPortfolioActive);\r\n\t\tnextSlide(dots, currentSlide, classDotActive);\r\n\t};\r\n\r\n\tconst startSlide = (timer = 1000) => {\r\n\t\tintervalId = setInterval(autoSlide, timer);\r\n\t};\r\n\r\n\tconst stopSlide = () => {\r\n\t\tclearInterval(intervalId);\r\n\t};\r\n\r\n\tconst addListeners = () => {\r\n\t\tsliderBlock.addEventListener('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (!e.target.matches('.dot, .portfolio-btn')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tprevSlide(slides, currentSlide, classPortfolioActive);\r\n\t\t\tprevSlide(dots, currentSlide, classDotActive);\r\n\r\n\t\t\tif (e.target.matches('#arrow-right')) {\r\n\t\t\t\tcurrentSlide++;\r\n\t\t\t} else if (e.target.matches('#arrow-left')) {\r\n\t\t\t\tcurrentSlide--;\r\n\t\t\t} else if (e.target.classList.contains('dot')) {\r\n\t\t\t\tdots.forEach((dot, index) => {\r\n\t\t\t\t\tif (e.target === dot) {\r\n\t\t\t\t\t\tcurrentSlide = index;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (currentSlide >= slides.length) {\r\n\t\t\t\tcurrentSlide = 0;\r\n\t\t\t}\r\n\t\t\tif (currentSlide < 0) {\r\n\t\t\t\tcurrentSlide = slides.length - 1;\r\n\t\t\t}\r\n\r\n\t\t\tnextSlide(slides, currentSlide, classPortfolioActive);\r\n\t\t\tnextSlide(dots, currentSlide, classDotActive);\r\n\t\t});\r\n\r\n\t\tsliderBlock.addEventListener(\r\n\t\t\t'mouseenter',\r\n\t\t\t(e) => {\r\n\t\t\t\tif (e.target.matches('.dot, .portfolio-btn')) {\r\n\t\t\t\t\tstopSlide();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tsliderBlock.addEventListener(\r\n\t\t\t'mouseleave',\r\n\t\t\t(e) => {\r\n\t\t\t\tif (e.target.matches('.dot, .portfolio-btn')) {\r\n\t\t\t\t\tstartSlide(sliderTimeInterval);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttrue\r\n\t\t);\r\n\t};\r\n\r\n\tcheckArguments();\r\n};\r\n\r\n/* harmony default export */ const modules_slider = (slider);\r\n\n;// CONCATENATED MODULE: ./modules/sendForm.js\n/*jshint esversion: 6 */\r\n\r\n\r\n\r\nconst sendForm_modal = document.querySelector('.popup');\r\n\r\nconst sendForm = ({ formId, someElem = [] }) => {\r\n\tconst form = document.getElementById(formId);\r\n\tlet statusBlock = document.createElement('div');\r\n\r\n\tconst validate = (list) => {\r\n\t\tlet success = true;\r\n\r\n\t\tlist.forEach((input) => {\r\n\t\t\tif (\r\n\t\t\t\t(input.name === 'user_phone' && /^[\\d+()+-]+$/.test(input.value) && input.value.length > 10) ||\r\n\t\t\t\t(input.name === 'user_name' && /^[а-яА-Я ]+$/.test(input.value) && input.value.length > 1) ||\r\n\t\t\t\t(input.name === 'user_message' && /^[а-яА-Я0-9\\-.,;:!? ]+$/.test(input.value)) ||\r\n\t\t\t\t(input.name === 'user_email' && /^[a-zA-Z0-9@-_.!]+$/.test(input.value) && input.value.length > 0)\r\n\t\t\t) {\r\n\t\t\t\tinput.classList.add('success');\r\n\t\t\t\tinput.classList.remove('error');\r\n\t\t\t} else {\r\n\t\t\t\tinput.classList.add('error');\r\n\t\t\t\tinput.classList.remove('success');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlist.forEach((input) => {\r\n\t\t\tif (input.classList.contains('error')) {\r\n\t\t\t\tsuccess = false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn success;\r\n\t};\r\n\r\n\tconst sendData = (data) => {\r\n\t\treturn fetch('https://jsonplaceholder.typicode.com/posts', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t}).then((res) => res.json());\r\n\t};\r\n\r\n\tconst submitForm = () => {\r\n\t\tconst formElements = form.querySelectorAll('input');\r\n\t\tconst formData = new FormData(form);\r\n\t\tconst formBody = {};\r\n\t\tappendStatusAnimation(statusBlock, 'preload');\r\n\t\tform.append(statusBlock);\r\n\t\tformData.forEach((val, key) => {\r\n\t\t\tformBody[key] = val;\r\n\t\t});\r\n\r\n\t\tsomeElem.forEach((elem) => {\r\n\t\t\tconst element = document.getElementById(elem.id);\r\n\t\t\tif (elem.type === 'block') {\r\n\t\t\t\tformBody[elem.id] = element.textContent;\r\n\t\t\t} else if (elem.type === 'input') {\r\n\t\t\t\tformBody[elem.id] = element.value;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (validate(formElements)) {\r\n\t\t\tsendData(formBody)\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tappendStatusAnimation(statusBlock, 'done');\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tstatusBlock.innerHTML = '';\r\n\t\t\t\t\t\tsendForm_modal.style.display = 'none';\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t\tformElements.forEach((input) => {\r\n\t\t\t\t\t\tinput.value = '';\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tappendStatusAnimation(statusBlock, 'error');\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tstatusBlock.innerHTML = '';\r\n\t\t\t\t\t\tsendForm_modal.style.display = 'none';\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\talert('Данные не валидны!');\r\n\t\t\tappendStatusAnimation(statusBlock, 'error');\r\n\t\t}\r\n\t};\r\n\r\n\ttry {\r\n\t\tif (!form) {\r\n\t\t\tthrow new Error('Верните форму на место');\r\n\t\t}\r\n\t\tform.addEventListener('submit', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tsubmitForm();\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tconsole.log(error.message);\r\n\t}\r\n};\r\n\r\n/* harmony default export */ const modules_sendForm = (sendForm);\r\n\n;// CONCATENATED MODULE: ./index.js\n/*jshint esversion: 6 */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmodules_timer('15 january 2022 00:00');\r\nmodules_menu();\r\nmodules_modal();\r\nmodules_smoothScroll();\r\nmodules_textValidation();\r\nmodules_tabs();\r\nmodules_slider('portfolio-content', 'portfolio-item', 'portfolio-item-active', 'dot-active');\r\nmodules_calculator(100);\r\nmodules_sendForm({\r\n\tformId: 'form1',\r\n\tsomeElem: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tid: 'total',\r\n\t\t},\r\n\t],\r\n});\r\nmodules_sendForm({\r\n\tformId: 'form2',\r\n\tsomeElem: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tid: 'total',\r\n\t\t},\r\n\t],\r\n});\r\nmodules_sendForm({\r\n\tformId: 'form3',\r\n\tsomeElem: [\r\n\t\t{\r\n\t\t\ttype: 'block',\r\n\t\t\tid: 'total',\r\n\t\t},\r\n\t],\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFlLE1BQU0sRUFBQzs7O0FDdkh0QjtBQUNBO0FBQ2tEO0FBQ2xEO0FBQ0EsTUFBTSxjQUFLO0FBQ1g7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLHFCQUFxQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxxQkFBcUI7QUFDMUI7QUFDQTtBQUNBLE1BQU0sY0FBSztBQUNYLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBLEtBQUsscUJBQXFCO0FBQzFCO0FBQ0E7QUFDQSxNQUFNLGNBQUs7QUFDWCxNQUFNO0FBQ04sS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEdBQUcscUJBQXFCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUFlLFFBQVEsRUFBQzs7O0FDeEd4QjtBQUNBO0FBQ29DO0FBQ0Y7QUFDRTtBQUNjO0FBQ0o7QUFDUTtBQUNwQjtBQUNJO0FBQ0k7QUFDMUM7QUFDQSxhQUFLO0FBQ0wsWUFBSTtBQUNKLGFBQUs7QUFDTCxvQkFBWTtBQUNaLHNCQUFjO0FBQ2QsWUFBSTtBQUNKLGNBQU07QUFDTixrQkFBVTtBQUNWLGdCQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRCxnQkFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0QsZ0JBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL21vZHVsZXMvdGltZXIuanM/ZDE2ZSIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL21lbnUuanM/NTI0YiIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL2hlbHBlcnMuanM/NGM0MCIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL21vZGFsLmpzPzY2ZjMiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9zbW9vdGhTY3JvbGwuanM/ZjQ5NiIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL2NhbGN1bGF0b3IuanM/ODI1MCIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL3RleHRWYWxpZGF0aW9uLmpzPzk0YTMiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy90YWJzLmpzPzg4MjQiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9zbGlkZXIuanM/Y2U0YiIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL3NlbmRGb3JtLmpzP2Y0NGMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanM/NDFmNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cclxuXHJcbmNvbnN0IHRpbWVyID0gKGRlYWRsaW5lKSA9PiB7XHJcblx0Y29uc3QgdGltZXJIb3VycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lci1ob3VycycpO1xyXG5cdGNvbnN0IHRpbWVyTWludXRlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lci1taW51dGVzJyk7XHJcblx0Y29uc3QgdGltZXJTZWNvbmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVyLXNlY29uZHMnKTtcclxuXHRjb25zdCB0aW1lckFjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aW1lci1hY3Rpb24nKTtcclxuXHJcblx0Y29uc3QgZ2V0VGltZVJlbWFpbmluZyA9ICgpID0+IHtcclxuXHRcdGxldCBkYXRlU3RvcCA9IG5ldyBEYXRlKGRlYWRsaW5lKS5nZXRUaW1lKCk7XHJcblx0XHRsZXQgZGF0ZU5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cdFx0bGV0IHRpbWVSZW1haW5pbmcgPSAoZGF0ZVN0b3AgLSBkYXRlTm93KSAvIDEwMDA7XHJcblx0XHRsZXQgZGF5cyA9IE1hdGguZmxvb3IodGltZVJlbWFpbmluZyAvIDM2MDAgLyAyNCk7XHJcblx0XHRsZXQgaG91cnMgPSBNYXRoLmZsb29yKCh0aW1lUmVtYWluaW5nIC8gMzYwMCkgJSAyNCk7XHJcblx0XHRsZXQgbWludXRlcyA9IE1hdGguZmxvb3IoKHRpbWVSZW1haW5pbmcgLyA2MCkgJSA2MCk7XHJcblx0XHRsZXQgc2Vjb25kcyA9IE1hdGguZmxvb3IodGltZVJlbWFpbmluZyAlIDYwKTtcclxuXHRcdHJldHVybiB7IHRpbWVSZW1haW5pbmcsIGRheXMsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzIH07XHJcblx0fTtcclxuXHJcblx0Y29uc3QgY2hlY2tUaW1lRm9ybWF0ID0gKGl0ZW0pID0+IHtcclxuXHRcdGlmIChpdGVtLnRvU3RyaW5nKCkubGVuZ3RoIDwgMikge1xyXG5cdFx0XHRpdGVtID0gJzAnICsgaXRlbTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IHVwZGF0ZUNsb2NrID0gKGdldFRpbWUpID0+IHtcclxuXHRcdHRpbWVyQWN0aW9uLnRleHRDb250ZW50ID0gYNCU0L4g0LrQvtC90YbQsCDQsNC60YbQuNC4INC+0YHRgtCw0LvQvtGB0YwgJHtnZXRUaW1lLmRheXN9INC00L0uYDtcclxuXHJcblx0XHR0aW1lckhvdXJzLnRleHRDb250ZW50ID0gY2hlY2tUaW1lRm9ybWF0KGdldFRpbWUuaG91cnMpO1xyXG5cdFx0dGltZXJNaW51dGVzLnRleHRDb250ZW50ID0gY2hlY2tUaW1lRm9ybWF0KGdldFRpbWUubWludXRlcyk7XHJcblx0XHR0aW1lclNlY29uZHMudGV4dENvbnRlbnQgPSBjaGVja1RpbWVGb3JtYXQoZ2V0VGltZS5zZWNvbmRzKTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBnZXRUaW1lID0gZ2V0VGltZVJlbWFpbmluZygpO1xyXG5cdGlmIChnZXRUaW1lLnRpbWVSZW1haW5pbmcgPiAwKSB7XHJcblx0XHRzZXRJbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdHVwZGF0ZUNsb2NrKGdldFRpbWUpO1xyXG5cdFx0fSwgMTAwMCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRpbWVyQWN0aW9uLnRleHRDb250ZW50ID0gYNCU0L4g0LrQvtC90YbQsCDQsNC60YbQuNC4INC+0YHRgtCw0LvQvtGB0YwgMCDQtNC9LmA7XHJcblx0XHR0aW1lckhvdXJzLnRleHRDb250ZW50ID0gJzAwJztcclxuXHRcdHRpbWVyTWludXRlcy50ZXh0Q29udGVudCA9ICcwMCc7XHJcblx0XHR0aW1lclNlY29uZHMudGV4dENvbnRlbnQgPSAnMDAnO1xyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRpbWVyO1xyXG4iLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cclxuXHJcbmNvbnN0IG1lbnUgPSAoKSA9PiB7XHJcblx0Y29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21lbnUnKTtcclxuXHRsZXQgcG9zaXRpb25YID0gLTEwMDtcclxuXHRsZXQgaWRBbmltYXRpb247XHJcblxyXG5cdGNvbnN0IGhhbmRsZU1lbnUgPSAoKSA9PiB7XHJcblx0XHRpZiAod2luZG93LnNjcmVlbi53aWR0aCA+PSA3NjgpIHtcclxuXHRcdFx0Y2FuY2VsQW5pbWF0aW9uRnJhbWUoaWRBbmltYXRpb24pO1xyXG5cdFx0XHRpZiAoIW1lbnUuc3R5bGUudHJhbnNmb3JtKSB7XHJcblx0XHRcdFx0bWVudUFuaW1hdGlvbk9uKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bWVudUFuaW1hdGlvbk9mZigpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuXHRcdFx0aWYgKCFtZW51LnN0eWxlLnRyYW5zZm9ybSkge1xyXG5cdFx0XHRcdG1lbnUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMTAwJSknO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG1lbnUuc3R5bGUudHJhbnNmb3JtID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBtZW51QW5pbWF0aW9uT24gPSAoKSA9PiB7XHJcblx0XHRpZEFuaW1hdGlvbiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtZW51QW5pbWF0aW9uT24pO1xyXG5cdFx0aWYgKHBvc2l0aW9uWCA8IDEwMCkge1xyXG5cdFx0XHRwb3NpdGlvblggKz0gMTA7XHJcblx0XHRcdG1lbnUuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtwb3NpdGlvblh9JSlgO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Y29uc3QgbWVudUFuaW1hdGlvbk9mZiA9ICgpID0+IHtcclxuXHRcdHBvc2l0aW9uWCA9IC0xMDA7XHJcblx0XHRtZW51LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xyXG5cdH07XHJcblxyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdGlmIChlLnRhcmdldC5jbG9zZXN0KCcuY2xvc2UtYnRuJykgfHwgZS50YXJnZXQuY2xvc2VzdCgnLm1lbnUnKSB8fCBlLnRhcmdldC5tYXRjaGVzKCdsaT5hJykgfHwgKHBvc2l0aW9uWCA+IDAgJiYgIWUudGFyZ2V0Lm1hdGNoZXMoJ21lbnUnKSkpIHtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRoYW5kbGVNZW51KCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtZW51O1xyXG4iLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cclxuXHJcbmNvbnN0IGFuaW1hdGUgPSBmdW5jdGlvbiAoeyB0aW1pbmcsIGRyYXcsIGR1cmF0aW9uIH0pIHtcclxuXHRsZXQgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHJcblx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xyXG5cdFx0Ly8gdGltZUZyYWN0aW9uINC40LfQvNC10L3Rj9C10YLRgdGPINC+0YIgMCDQtNC+IDFcclxuXHRcdGxldCB0aW1lRnJhY3Rpb24gPSAodGltZSAtIHN0YXJ0KSAvIGR1cmF0aW9uO1xyXG5cdFx0aWYgKHRpbWVGcmFjdGlvbiA+IDEpIHRpbWVGcmFjdGlvbiA9IDE7XHJcblxyXG5cdFx0Ly8g0LLRi9GH0LjRgdC70LXQvdC40LUg0YLQtdC60YPRidC10LPQviDRgdC+0YHRgtC+0Y/QvdC40Y8g0LDQvdC40LzQsNGG0LjQuFxyXG5cdFx0bGV0IHByb2dyZXNzID0gdGltaW5nKHRpbWVGcmFjdGlvbik7XHJcblxyXG5cdFx0ZHJhdyhwcm9ncmVzcyk7IC8vINC+0YLRgNC40YHQvtCy0LDRgtGMINC10ZFcclxuXHJcblx0XHRpZiAodGltZUZyYWN0aW9uIDwgMSkge1xyXG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBhcHBlbmRTdGF0dXNBbmltYXRpb24gPSBmdW5jdGlvbiAoZWxlbWVudCwgc3RhdHVzKSB7XHJcblx0ZWxlbWVudC5pbm5lckhUTUwgPSAnJztcclxuXHJcblx0Y29uc3QgYW5pbWF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0YW5pbWF0aW9uLmNsYXNzTmFtZSA9ICdsb2FkZXInO1xyXG5cclxuXHRpZiAoc3RhdHVzID09PSAncHJlbG9hZCcpIHtcclxuXHRcdGFuaW1hdGlvbi5pbm5lckhUTUwgPSBgPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJMYXllcl8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcclxuICAgICAgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiNDdweFwiIHZpZXdCb3g9XCIwIDAgMjQgMzBcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTAgNTA7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cclxuICAgICAgPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiNFwiIGhlaWdodD1cIjE2XCIgZmlsbD1cIiMxOWI1ZmVcIj5cclxuICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlVHlwZT1cInhtbFwiXHJcbiAgICAgIGF0dHJpYnV0ZU5hbWU9XCJ0cmFuc2Zvcm1cIiB0eXBlPVwidHJhbnNsYXRlXCJcclxuICAgICAgdmFsdWVzPVwiMCAwOyAwIDIwOyAwIDBcIlxyXG4gICAgICBiZWdpbj1cIjBcIiBkdXI9XCIwLjZzXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgLz5cclxuICAgICAgPC9yZWN0PlxyXG4gICAgICA8cmVjdCB4PVwiMTBcIiB5PVwiMFwiIHdpZHRoPVwiNFwiIGhlaWdodD1cIjE2XCIgZmlsbD1cIiMxOWI1ZmVcIj5cclxuICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlVHlwZT1cInhtbFwiXHJcbiAgICAgIGF0dHJpYnV0ZU5hbWU9XCJ0cmFuc2Zvcm1cIiB0eXBlPVwidHJhbnNsYXRlXCJcclxuICAgICAgdmFsdWVzPVwiMCAwOyAwIDIwOyAwIDBcIlxyXG4gICAgICBiZWdpbj1cIjAuMnNcIiBkdXI9XCIwLjZzXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgLz5cclxuICAgICAgPC9yZWN0PlxyXG4gICAgICA8cmVjdCB4PVwiMjBcIiB5PVwiMFwiIHdpZHRoPVwiNFwiIGhlaWdodD1cIjE2XCIgZmlsbD1cIiMxOWI1ZmVcIj5cclxuICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlVHlwZT1cInhtbFwiXHJcbiAgICAgIGF0dHJpYnV0ZU5hbWU9XCJ0cmFuc2Zvcm1cIiB0eXBlPVwidHJhbnNsYXRlXCJcclxuICAgICAgdmFsdWVzPVwiMCAwOyAwIDIwOyAwIDBcIlxyXG4gICAgICBiZWdpbj1cIjAuNHNcIiBkdXI9XCIwLjZzXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgLz5cclxuICAgICAgPC9yZWN0PlxyXG4gICAgICA8L3N2Zz5gO1xyXG5cdH1cclxuXHRpZiAoc3RhdHVzID09PSAnZG9uZScpIHtcclxuXHRcdGFuaW1hdGlvbi5pbm5lckhUTUwgPSBgPHN2ZyB3aWR0aD1cIjQ4XCIgaGVpZ2h0PVwiNDhcIiB2aWV3Qm94PVwiMCAwIDQ4IDQ4XCIgZmlsbD1cIm5vbmVcIiBcclxuICAgIHN0cm9rZT1cIiMxOWI1ZmVcIiAgc3Ryb2tlLXdpZHRoPVwiM1wiIHN0cm9rZS1kYXNoYXJyYXk9XCIxMDBcIj5cclxuICAgIDxwYXRoIGlkPVwiY2hlY2tcIiBkPVwiTSAxMiwyMiBMIDIyLDMxIEwgMzYsMTNcIiBcclxuICAgICAgIHN0cm9rZS1kYXNob2Zmc2V0PVwiMFwiPlxyXG4gICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cInN0cm9rZS1kYXNob2Zmc2V0XCIgXHJcbiAgICAgICAgICAgIGZyb209XCIxMDBcIiB0bz1cIjBcIiBkdXI9XCIyc1wiPjwvYW5pbWF0ZT5cclxuICAgIDwvcGF0aD5cclxuICAgIDwvc3ZnPmA7XHJcblx0fVxyXG5cdGlmIChzdGF0dXMgPT09ICdlcnJvcicpIHtcclxuXHRcdGFuaW1hdGlvbi5pbm5lckhUTUwgPSBgPHN2ZyB3aWR0aD1cIjQ4XCIgaGVpZ2h0PVwiNDhcIiB2aWV3Qm94PVwiMCAwIDQ4IDQ4XCIgZmlsbD1cIm5vbmVcIiBcclxuICAgIHN0cm9rZT1cIiMxOWI1ZmVcIiBzdHJva2Utd2lkdGg9XCIzXCIgc3Ryb2tlLWRhc2hhcnJheT1cIjEwMFwiPlxyXG4gICAgPHBhdGggaWQ9XCJmYWlsXCIgZD1cIk0gMTUsMTUgTCAzMiwzMyBNIDMyLDE1IEwgMTUsMzNcIiBcclxuICAgICAgIHN0cm9rZS1kYXNob2Zmc2V0PVwiMFwiPlxyXG4gICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cInN0cm9rZS1kYXNob2Zmc2V0XCIgXHJcbiAgICAgICAgICAgIGZyb209XCIxMDBcIiB0bz1cIjBcIiBkdXI9XCIyc1wiPlxyXG4gICAgPC9hbmltYXRlPlxyXG4gICAgPC9wYXRoPlxyXG4gICAgPC9zdmc+YDtcclxuXHR9XHJcblxyXG5cdGVsZW1lbnQuYXBwZW5kKGFuaW1hdGlvbik7XHJcbn07XHJcblxyXG5leHBvcnQgeyBhbmltYXRlLCBhcHBlbmRTdGF0dXNBbmltYXRpb24gfTtcclxuIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG5pbXBvcnQgeyBhbmltYXRlIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmNvbnN0IG1vZGFsID0gKCkgPT4ge1xyXG5cdGNvbnN0IHBvcHVwQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cC1idG4nKTtcclxuXHRjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG5cclxuXHRwb3B1cEJ0bnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0bW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRcdGFuaW1hdGUoe1xyXG5cdFx0XHRcdGR1cmF0aW9uOiA3MDAsXHJcblx0XHRcdFx0dGltaW5nKHRpbWVGcmFjdGlvbikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucG93KHRpbWVGcmFjdGlvbiwgMik7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRkcmF3KHByb2dyZXNzKSB7XHJcblx0XHRcdFx0XHRtb2RhbC5zdHlsZS5vcGFjaXR5ID0gYCR7cHJvZ3Jlc3MgKiAxMDB9JWA7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0bW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0aWYgKCFlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAtY29udGVudCcpIHx8IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXAtY2xvc2UnKSkge1xyXG5cdFx0XHRtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9kYWw7XHJcbiIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xyXG5cclxuY29uc3Qgc21vb3RoU2Nyb2xsID0gKCkgPT4ge1xyXG5cdGNvbnN0IHNjcm9sbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tocmVmID0gXCIjc2VydmljZS1ibG9ja1wiXScpO1xyXG5cdGNvbnN0IHNlcnZpY2VCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXJ2aWNlLWJsb2NrJyk7XHJcblx0Y29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbWVudT51bD5saT5hJyk7XHJcblxyXG5cdGNvbnN0IHNjcm9sbFVwID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG5cdFx0b2JqZWN0LnNjcm9sbEludG9WaWV3KHsgYmxvY2s6ICdzdGFydCcsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuXHR9O1xyXG5cclxuXHRzY3JvbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzY3JvbGxVcC5iaW5kKHNlcnZpY2VCbG9jaykoc2VydmljZUJsb2NrKTtcclxuXHR9KTtcclxuXHJcblx0bWVudUl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGNvbnN0IGl0ZW1MaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aXRlbS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zdWJzdHJpbmcoMSl9YCk7XHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHNjcm9sbFVwLmJpbmQoaXRlbUxpbmspKGl0ZW1MaW5rKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc21vb3RoU2Nyb2xsO1xyXG4iLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cclxuXHJcbmltcG9ydCB7IGFuaW1hdGUgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuY29uc3QgY2FsY3VsYXRvciA9IChwcmljZSA9IDEwMCkgPT4ge1xyXG5cdGNvbnN0IGNhbGNCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjLWJsb2NrJyk7XHJcblx0Y29uc3QgY2FsY1R5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FsYy10eXBlJyk7XHJcblx0Y29uc3QgY2FsY1NxdWFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjLXNxdWFyZScpO1xyXG5cdGNvbnN0IGNhbGNDb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjLWNvdW50Jyk7XHJcblx0Y29uc3QgY2FsY0RheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjLWRheScpO1xyXG5cdGNvbnN0IHRvdGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsJyk7XHJcblxyXG5cdGNvbnN0IGNvdW50Q2FsYyA9ICgpID0+IHtcclxuXHRcdGNvbnN0IGNhbGNUeXBlVmFsdWUgPSArY2FsY1R5cGUub3B0aW9uc1tjYWxjVHlwZS5zZWxlY3RlZEluZGV4XS52YWx1ZTtcclxuXHRcdGNvbnN0IGNhbGNTcXVhcmVWYWx1ZSA9IGNhbGNTcXVhcmUudmFsdWU7XHJcblx0XHRsZXQgdG90YWxWYWx1ZSA9IDA7XHJcblx0XHRsZXQgY2FsY0NvdW50VmFsdWUgPSAxO1xyXG5cdFx0bGV0IGNhbGNEYXlWYWx1ZSA9IDE7XHJcblxyXG5cdFx0aWYgKGNhbGNDb3VudC52YWx1ZSA+IDEpIHtcclxuXHRcdFx0Y2FsY0NvdW50VmFsdWUgKz0gK2NhbGNDb3VudC52YWx1ZSAvIDEwO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNhbGNEYXkudmFsdWUgJiYgY2FsY0RheS52YWx1ZSA8IDUpIHtcclxuXHRcdFx0Y2FsY0RheVZhbHVlID0gMjtcclxuXHRcdH0gZWxzZSBpZiAoY2FsY0RheS52YWx1ZSAmJiBjYWxjRGF5LnZhbHVlIDwgMTApIHtcclxuXHRcdFx0Y2FsY0RheVZhbHVlID0gMS41O1xyXG5cdFx0fVxyXG5cdFx0aWYgKGNhbGNUeXBlVmFsdWUgJiYgY2FsY1NxdWFyZVZhbHVlKSB7XHJcblx0XHRcdHRvdGFsVmFsdWUgPSBwcmljZSAqIGNhbGNUeXBlVmFsdWUgKiBjYWxjU3F1YXJlVmFsdWUgKiBjYWxjQ291bnRWYWx1ZSAqIGNhbGNEYXlWYWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY2FsY1NxdWFyZVZhbHVlICE9PSAnJyAmJiBjYWxjQ291bnQudmFsdWUgIT09ICcnICYmIGNhbGNEYXkudmFsdWUgIT09ICcnKSB7XHJcblx0XHRcdGNvbnN0IHRleHRDb250ZW50VmFsdWUgPSArdG90YWwudGV4dENvbnRlbnQ7XHJcblx0XHRcdGNvbnN0IGRlbGF5VmFsdWUgPSB0b3RhbFZhbHVlIC0gdGV4dENvbnRlbnRWYWx1ZTtcclxuXHRcdFx0YW5pbWF0ZSh7XHJcblx0XHRcdFx0ZHVyYXRpb246IDEwMDAsXHJcblx0XHRcdFx0dGltaW5nKHRpbWVGcmFjdGlvbikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRpbWVGcmFjdGlvbjtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGRyYXcocHJvZ3Jlc3MpIHtcclxuXHRcdFx0XHRcdHRvdGFsLnRleHRDb250ZW50ID0gYCR7dGV4dENvbnRlbnRWYWx1ZSArIE1hdGguY2VpbChwcm9ncmVzcyAqIGRlbGF5VmFsdWUpfWA7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0b3RhbC50ZXh0Q29udGVudCA9IDA7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0W2NhbGNTcXVhcmUsIGNhbGNDb3VudCwgY2FsY0RheV0uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvXFxEKy8sICcnKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRjYWxjQmxvY2suYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGUudGFyZ2V0ID09PSBjYWxjVHlwZSB8fCBlLnRhcmdldCA9PT0gY2FsY1NxdWFyZSB8fCBlLnRhcmdldCA9PT0gY2FsY0NvdW50IHx8IGUudGFyZ2V0ID09PSBjYWxjRGF5KSB7XHJcblx0XHRcdGNvdW50Q2FsYygpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2FsY3VsYXRvcjtcclxuIiwiLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG5jb25zdCB0ZXh0VmFsaWRhdGlvbiA9ICgpID0+IHtcclxuXHQvKiDQk9C70LDQstC90LDRjyDRgdGC0YDQsNC90LjRhtCwICovXHJcblx0Y29uc3QgZm9ybTFOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0xLW5hbWUnKTtcclxuXHRjb25zdCBmb3JtMUVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0xLWVtYWlsJyk7XHJcblx0Y29uc3QgZm9ybTFQaG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtMS1waG9uZScpO1xyXG5cdC8qINCc0L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviAqL1xyXG5cdGNvbnN0IGZvcm0zTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtMy1uYW1lJyk7XHJcblx0Y29uc3QgZm9ybTNQaG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtMy1waG9uZScpO1xyXG5cdGNvbnN0IGZvcm0zRW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybTMtZW1haWwnKTtcclxuXHQvKiDQntGB0YLQsNC70LjRgdGMINCy0L7Qv9GA0L7RgdGLPyAqL1xyXG5cdGNvbnN0IGZvcm0yTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtMi1uYW1lJyk7XHJcblx0Y29uc3QgZm9ybTJFbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtMi1lbWFpbCcpO1xyXG5cdGNvbnN0IGZvcm0yUGhvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybTItcGhvbmUnKTtcclxuXHRjb25zdCBmb3JtMk1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybTItbWVzc2FnZScpO1xyXG5cclxuXHQvKiDQpNGD0L3QutGG0LjRjyDRhNC+0YDQvNCw0YLQuNGA0L7QstCw0L3QuNGPINCf0L7Qu9C10Lkg0LLQstC+0LTQsCB0eXBlPXRleHQg0LggcGxhY2Vob2xkZXI9XCLQktCw0YjQtSDQuNC80Y9cIiAgKi9cclxuXHRjb25zdCB0ZXh0Rm9ybUZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnRhcmdldC52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1te0LAt0Y/QkC3QryBdLywgJycpO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnRhcmdldC52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1te0LAt0Y/QkC3Qry0gXSsvLCAnJyk7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvXFxzKy8sICcgJyk7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvXlstXFxzXSsvLCAnJyk7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvWy1cXHNdKyQvLCAnJyk7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWVbMF0udG9VcHBlckNhc2UoKSArIGUudGFyZ2V0LnZhbHVlLnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Lyog0KTRg9C90LrRhtC40Y8g0YTQvtGA0LzQsNGC0LjRgNC+0LLQsNC90LjRjyDQn9C+0LvQtdC5INCy0LLQvtC00LAgdHlwZT10ZXh0INC4IHBsYWNlaG9sZGVyPVwi0JLQsNGI0LUg0YHQvtC+0LHRidC10L3QuNC1XCIgICovXHJcblx0Y29uc3QgbWVzc2FnZUZvcm1Gb3JtYXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXtCwLdGP0JAt0K8wLTktLiw7OiE/IF0vLCAnJyk7XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChlKSA9PiB7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvW17QsC3Rj9CQLdCvMC05LSBdKy8sICcnKTtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cXHMrLywgJyAnKTtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9eWy1cXHNdKy8sICcnKTtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bLVxcc10rJC8sICcnKTtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZVswXS50b1VwcGVyQ2FzZSgpICsgZS50YXJnZXQudmFsdWUuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cdC8qINCk0YPQvdC60YbQuNGPINGE0L7RgNC80LDRgtC40YDQvtCy0LDQvdC40Y8g0J/QvtC70LXQuSDQstCy0L7QtNCwIHR5cGU9ZW1haWwgICovXHJcblx0Y29uc3QgZW1haWxGb3JtRm9ybWF0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvW15hLXpBLVowLTlcXC1AXy4hflxcKiddLywgJycpO1xyXG5cdFx0fSk7XHJcblx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xyXG5cdFx0XHRlLnRhcmdldC52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1teYS16QS1aMC05QFxcLV8uIX5cXConXSsvLCAnJyk7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvXFxzKy8sICcgJyk7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvXlstXFxzXSsvLCAnJyk7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvWy1cXHNdKyQvLCAnJyk7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKiDQpNGD0L3QutGG0LjRjyDRhNC+0YDQvNCw0YLQuNGA0L7QstCw0L3QuNGPINCf0L7Qu9C10Lkg0LLQstC+0LTQsCB0eXBlPXRlbCAgKi9cclxuXHRjb25zdCB0ZWxGb3JtRm9ybWF0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcblx0XHRcdGUudGFyZ2V0LnZhbHVlID0gZS50YXJnZXQudmFsdWUucmVwbGFjZSgvW14wLTkoKS0rXS8sICcnKTtcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGUpID0+IHtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXjAtOSgpLStdKy8sICcnKTtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9cXHMrLywgJyAnKTtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9eWy1cXHNdKy8sICcnKTtcclxuXHRcdFx0ZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bLVxcc10rJC8sICcnKTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdFtmb3JtMU5hbWUsIGZvcm0yTmFtZSwgZm9ybTNOYW1lXS5mb3JFYWNoKChpdGVtKSA9PiB0ZXh0Rm9ybUZvcm1hdC5iaW5kKGl0ZW0pKCkpO1xyXG5cdG1lc3NhZ2VGb3JtRm9ybWF0LmJpbmQoZm9ybTJNZXNzYWdlKSgpO1xyXG5cdFtmb3JtMUVtYWlsLCBmb3JtMkVtYWlsLCBmb3JtM0VtYWlsXS5mb3JFYWNoKChpdGVtKSA9PiBlbWFpbEZvcm1Gb3JtYXQuYmluZChpdGVtKSgpKTtcclxuXHRbZm9ybTFQaG9uZSwgZm9ybTJQaG9uZSwgZm9ybTNQaG9uZV0uZm9yRWFjaCgoaXRlbSkgPT4gdGVsRm9ybUZvcm1hdC5iaW5kKGl0ZW0pKCkpO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdGV4dFZhbGlkYXRpb247XHJcbiIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xyXG5cclxuY29uc3QgdGFicyA9ICgpID0+IHtcclxuXHRjb25zdCB0YWJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2UtdGFiJyk7XHJcblx0Y29uc3QgdGFiUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VydmljZS1oZWFkZXInKTtcclxuXHRjb25zdCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlcnZpY2UtaGVhZGVyLXRhYicpO1xyXG5cclxuXHR0YWJQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRpZiAoZS50YXJnZXQuY2xvc2VzdCgnLnNlcnZpY2UtaGVhZGVyLXRhYicpKSB7XHJcblx0XHRcdGNvbnN0IHRhYkJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zZXJ2aWNlLWhlYWRlci10YWInKTtcclxuXHRcdFx0dGFicy5mb3JFYWNoKCh0YWIsIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0aWYgKHRhYiA9PT0gdGFiQnRuKSB7XHJcblx0XHRcdFx0XHR0YWIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHR0YWJDb250ZW50W2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdFx0dGFiQ29udGVudFtpbmRleF0uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRhYnM7XHJcbiIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xyXG5cclxuY29uc3Qgc2xpZGVyID0gKHBvcnRmb2xpb0NvbnRlbnQsIHBvcnRmb2xpb0l0ZW0sIGNsYXNzUG9ydGZvbGlvQWN0aXZlLCBjbGFzc0RvdEFjdGl2ZSkgPT4ge1xyXG5cdGNvbnN0IHNsaWRlckJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cG9ydGZvbGlvQ29udGVudH1gKTtcclxuXHRjb25zdCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtwb3J0Zm9saW9JdGVtfWApO1xyXG5cdGxldCBkb3RzO1xyXG5cdGxldCBzbGlkZXJUaW1lSW50ZXJ2YWwgPSAyMDAwO1xyXG5cdGxldCBjdXJyZW50U2xpZGUgPSAwO1xyXG5cdGxldCBpbnRlcnZhbElkO1xyXG5cclxuXHRjb25zdCBjaGVja0FyZ3VtZW50cyA9ICgpID0+IHtcclxuXHRcdGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cG9ydGZvbGlvQ29udGVudH1gKSB8fCAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cG9ydGZvbGlvSXRlbX1gKSB8fCAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y2xhc3NQb3J0Zm9saW9BY3RpdmV9YCkgfHwgY2xhc3NEb3RBY3RpdmUgIT09ICdkb3QtYWN0aXZlJykge1xyXG5cdFx0XHRhbGVydCgn0J7QqNCY0JHQmtCQOiDQnNC+0LTRg9C70Ywgc2xpZGVyKCkg0L3QtSDQt9Cw0L/Rg9GJ0LXQvSA9PiDQv9GA0L7QstC10YDRjNGC0LUg0LDRgNCz0YPQvNC10L3RgtGLINGE0YPQvdC60YbQuNC4IHNsaWRlcigpINCyIGluZGV4LmpzJyk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbmRlckRvdHMoKTtcclxuXHRcdFx0c3RhcnRTbGlkZShzbGlkZXJUaW1lSW50ZXJ2YWwpO1xyXG5cdFx0XHRhZGRMaXN0ZW5lcnMoKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCByZW5kZXJEb3RzID0gKGNsYXNzRG90QWN0aXZlID0gJ2RvdC1hY3RpdmUnKSA9PiB7XHJcblx0XHRzbGlkZXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0Y29uc3QgYWxsRG90cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3J0Zm9saW8tZG90cycpO1xyXG5cdFx0XHRjb25zdCBuZXdMaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0XHRcdG5ld0xpLmNsYXNzTGlzdC5hZGQoJ2RvdCcpO1xyXG5cdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRuZXdMaS5jbGFzc0xpc3QuYWRkKGNsYXNzRG90QWN0aXZlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRhbGxEb3RzLmFwcGVuZChuZXdMaSk7XHJcblx0XHR9KTtcclxuXHRcdGRvdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZG90Jyk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgcHJldlNsaWRlID0gKGVsZW1zLCBpbmRleCwgc3RyQ2xhc3MpID0+IHtcclxuXHRcdGVsZW1zW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKHN0ckNsYXNzKTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBuZXh0U2xpZGUgPSAoZWxlbXMsIGluZGV4LCBzdHJDbGFzcykgPT4ge1xyXG5cdFx0ZWxlbXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoc3RyQ2xhc3MpO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGF1dG9TbGlkZSA9ICgpID0+IHtcclxuXHRcdHByZXZTbGlkZShzbGlkZXMsIGN1cnJlbnRTbGlkZSwgY2xhc3NQb3J0Zm9saW9BY3RpdmUpO1xyXG5cdFx0cHJldlNsaWRlKGRvdHMsIGN1cnJlbnRTbGlkZSwgY2xhc3NEb3RBY3RpdmUpO1xyXG5cdFx0Y3VycmVudFNsaWRlKys7XHJcblx0XHRpZiAoY3VycmVudFNsaWRlID49IHNsaWRlcy5sZW5ndGgpIHtcclxuXHRcdFx0Y3VycmVudFNsaWRlID0gMDtcclxuXHRcdH1cclxuXHRcdG5leHRTbGlkZShzbGlkZXMsIGN1cnJlbnRTbGlkZSwgY2xhc3NQb3J0Zm9saW9BY3RpdmUpO1xyXG5cdFx0bmV4dFNsaWRlKGRvdHMsIGN1cnJlbnRTbGlkZSwgY2xhc3NEb3RBY3RpdmUpO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IHN0YXJ0U2xpZGUgPSAodGltZXIgPSAxMDAwKSA9PiB7XHJcblx0XHRpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoYXV0b1NsaWRlLCB0aW1lcik7XHJcblx0fTtcclxuXHJcblx0Y29uc3Qgc3RvcFNsaWRlID0gKCkgPT4ge1xyXG5cdFx0Y2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBhZGRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcblx0XHRzbGlkZXJCbG9jay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGlmICghZS50YXJnZXQubWF0Y2hlcygnLmRvdCwgLnBvcnRmb2xpby1idG4nKSkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cHJldlNsaWRlKHNsaWRlcywgY3VycmVudFNsaWRlLCBjbGFzc1BvcnRmb2xpb0FjdGl2ZSk7XHJcblx0XHRcdHByZXZTbGlkZShkb3RzLCBjdXJyZW50U2xpZGUsIGNsYXNzRG90QWN0aXZlKTtcclxuXHJcblx0XHRcdGlmIChlLnRhcmdldC5tYXRjaGVzKCcjYXJyb3ctcmlnaHQnKSkge1xyXG5cdFx0XHRcdGN1cnJlbnRTbGlkZSsrO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoJyNhcnJvdy1sZWZ0JykpIHtcclxuXHRcdFx0XHRjdXJyZW50U2xpZGUtLTtcclxuXHRcdFx0fSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RvdCcpKSB7XHJcblx0XHRcdFx0ZG90cy5mb3JFYWNoKChkb3QsIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZS50YXJnZXQgPT09IGRvdCkge1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50U2xpZGUgPSBpbmRleDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGN1cnJlbnRTbGlkZSA+PSBzbGlkZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0Y3VycmVudFNsaWRlID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoY3VycmVudFNsaWRlIDwgMCkge1xyXG5cdFx0XHRcdGN1cnJlbnRTbGlkZSA9IHNsaWRlcy5sZW5ndGggLSAxO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRuZXh0U2xpZGUoc2xpZGVzLCBjdXJyZW50U2xpZGUsIGNsYXNzUG9ydGZvbGlvQWN0aXZlKTtcclxuXHRcdFx0bmV4dFNsaWRlKGRvdHMsIGN1cnJlbnRTbGlkZSwgY2xhc3NEb3RBY3RpdmUpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2xpZGVyQmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0J21vdXNlZW50ZXInLFxyXG5cdFx0XHQoZSkgPT4ge1xyXG5cdFx0XHRcdGlmIChlLnRhcmdldC5tYXRjaGVzKCcuZG90LCAucG9ydGZvbGlvLWJ0bicpKSB7XHJcblx0XHRcdFx0XHRzdG9wU2xpZGUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdHRydWVcclxuXHRcdCk7XHJcblxyXG5cdFx0c2xpZGVyQmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0J21vdXNlbGVhdmUnLFxyXG5cdFx0XHQoZSkgPT4ge1xyXG5cdFx0XHRcdGlmIChlLnRhcmdldC5tYXRjaGVzKCcuZG90LCAucG9ydGZvbGlvLWJ0bicpKSB7XHJcblx0XHRcdFx0XHRzdGFydFNsaWRlKHNsaWRlclRpbWVJbnRlcnZhbCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR0cnVlXHJcblx0XHQpO1xyXG5cdH07XHJcblxyXG5cdGNoZWNrQXJndW1lbnRzKCk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzbGlkZXI7XHJcbiIsIi8qanNoaW50IGVzdmVyc2lvbjogNiAqL1xyXG5cclxuaW1wb3J0IHsgYXBwZW5kU3RhdHVzQW5pbWF0aW9uIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcblxyXG5jb25zdCBzZW5kRm9ybSA9ICh7IGZvcm1JZCwgc29tZUVsZW0gPSBbXSB9KSA9PiB7XHJcblx0Y29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvcm1JZCk7XHJcblx0bGV0IHN0YXR1c0Jsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdGNvbnN0IHZhbGlkYXRlID0gKGxpc3QpID0+IHtcclxuXHRcdGxldCBzdWNjZXNzID0gdHJ1ZTtcclxuXHJcblx0XHRsaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHQoaW5wdXQubmFtZSA9PT0gJ3VzZXJfcGhvbmUnICYmIC9eW1xcZCsoKSstXSskLy50ZXN0KGlucHV0LnZhbHVlKSAmJiBpbnB1dC52YWx1ZS5sZW5ndGggPiAxMCkgfHxcclxuXHRcdFx0XHQoaW5wdXQubmFtZSA9PT0gJ3VzZXJfbmFtZScgJiYgL15b0LAt0Y/QkC3QryBdKyQvLnRlc3QoaW5wdXQudmFsdWUpICYmIGlucHV0LnZhbHVlLmxlbmd0aCA+IDEpIHx8XHJcblx0XHRcdFx0KGlucHV0Lm5hbWUgPT09ICd1c2VyX21lc3NhZ2UnICYmIC9eW9CwLdGP0JAt0K8wLTlcXC0uLDs6IT8gXSskLy50ZXN0KGlucHV0LnZhbHVlKSkgfHxcclxuXHRcdFx0XHQoaW5wdXQubmFtZSA9PT0gJ3VzZXJfZW1haWwnICYmIC9eW2EtekEtWjAtOUAtXy4hXSskLy50ZXN0KGlucHV0LnZhbHVlKSAmJiBpbnB1dC52YWx1ZS5sZW5ndGggPiAwKVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHRpbnB1dC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7XHJcblx0XHRcdFx0aW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpbnB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cdFx0XHRcdGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ3N1Y2Nlc3MnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0bGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0XHRpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XHJcblx0XHRcdFx0c3VjY2VzcyA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gc3VjY2VzcztcclxuXHR9O1xyXG5cclxuXHRjb25zdCBzZW5kRGF0YSA9IChkYXRhKSA9PiB7XHJcblx0XHRyZXR1cm4gZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycsIHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG5cdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0fSxcclxuXHRcdH0pLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSk7XHJcblx0fTtcclxuXHJcblx0Y29uc3Qgc3VibWl0Rm9ybSA9ICgpID0+IHtcclxuXHRcdGNvbnN0IGZvcm1FbGVtZW50cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcclxuXHRcdGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xyXG5cdFx0Y29uc3QgZm9ybUJvZHkgPSB7fTtcclxuXHRcdGFwcGVuZFN0YXR1c0FuaW1hdGlvbihzdGF0dXNCbG9jaywgJ3ByZWxvYWQnKTtcclxuXHRcdGZvcm0uYXBwZW5kKHN0YXR1c0Jsb2NrKTtcclxuXHRcdGZvcm1EYXRhLmZvckVhY2goKHZhbCwga2V5KSA9PiB7XHJcblx0XHRcdGZvcm1Cb2R5W2tleV0gPSB2YWw7XHJcblx0XHR9KTtcclxuXHJcblx0XHRzb21lRWxlbS5mb3JFYWNoKChlbGVtKSA9PiB7XHJcblx0XHRcdGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtLmlkKTtcclxuXHRcdFx0aWYgKGVsZW0udHlwZSA9PT0gJ2Jsb2NrJykge1xyXG5cdFx0XHRcdGZvcm1Cb2R5W2VsZW0uaWRdID0gZWxlbWVudC50ZXh0Q29udGVudDtcclxuXHRcdFx0fSBlbHNlIGlmIChlbGVtLnR5cGUgPT09ICdpbnB1dCcpIHtcclxuXHRcdFx0XHRmb3JtQm9keVtlbGVtLmlkXSA9IGVsZW1lbnQudmFsdWU7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICh2YWxpZGF0ZShmb3JtRWxlbWVudHMpKSB7XHJcblx0XHRcdHNlbmREYXRhKGZvcm1Cb2R5KVxyXG5cdFx0XHRcdC50aGVuKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRhcHBlbmRTdGF0dXNBbmltYXRpb24oc3RhdHVzQmxvY2ssICdkb25lJyk7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRcdFx0c3RhdHVzQmxvY2suaW5uZXJIVE1MID0gJyc7XHJcblx0XHRcdFx0XHRcdG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdFx0XHR9LCAyMDAwKTtcclxuXHRcdFx0XHRcdGZvcm1FbGVtZW50cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpbnB1dC52YWx1ZSA9ICcnO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goKGVycm9yKSA9PiB7XHJcblx0XHRcdFx0XHRhcHBlbmRTdGF0dXNBbmltYXRpb24oc3RhdHVzQmxvY2ssICdlcnJvcicpO1xyXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHN0YXR1c0Jsb2NrLmlubmVySFRNTCA9ICcnO1xyXG5cdFx0XHRcdFx0XHRtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHRcdFx0fSwgMjAwMCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRhbGVydCgn0JTQsNC90L3Ri9C1INC90LUg0LLQsNC70LjQtNC90YshJyk7XHJcblx0XHRcdGFwcGVuZFN0YXR1c0FuaW1hdGlvbihzdGF0dXNCbG9jaywgJ2Vycm9yJyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dHJ5IHtcclxuXHRcdGlmICghZm9ybSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ9CS0LXRgNC90LjRgtC1INGE0L7RgNC80YMg0L3QsCDQvNC10YHRgtC+Jyk7XHJcblx0XHR9XHJcblx0XHRmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0c3VibWl0Rm9ybSgpO1xyXG5cdFx0fSk7XHJcblx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlbmRGb3JtO1xyXG4iLCIvKmpzaGludCBlc3ZlcnNpb246IDYgKi9cclxuXHJcbmltcG9ydCB0aW1lciBmcm9tICcuL21vZHVsZXMvdGltZXInO1xyXG5pbXBvcnQgbWVudSBmcm9tICcuL21vZHVsZXMvbWVudSc7XHJcbmltcG9ydCBtb2RhbCBmcm9tICcuL21vZHVsZXMvbW9kYWwnO1xyXG5pbXBvcnQgc21vb3RoU2Nyb2xsIGZyb20gJy4vbW9kdWxlcy9zbW9vdGhTY3JvbGwnO1xyXG5pbXBvcnQgY2FsY3VsYXRvciBmcm9tICcuL21vZHVsZXMvY2FsY3VsYXRvcic7XHJcbmltcG9ydCB0ZXh0VmFsaWRhdGlvbiBmcm9tICcuL21vZHVsZXMvdGV4dFZhbGlkYXRpb24nO1xyXG5pbXBvcnQgdGFicyBmcm9tICcuL21vZHVsZXMvdGFicyc7XHJcbmltcG9ydCBzbGlkZXIgZnJvbSAnLi9tb2R1bGVzL3NsaWRlcic7XHJcbmltcG9ydCBzZW5kRm9ybSBmcm9tICcuL21vZHVsZXMvc2VuZEZvcm0nO1xyXG5cclxudGltZXIoJzE1IGphbnVhcnkgMjAyMiAwMDowMCcpO1xyXG5tZW51KCk7XHJcbm1vZGFsKCk7XHJcbnNtb290aFNjcm9sbCgpO1xyXG50ZXh0VmFsaWRhdGlvbigpO1xyXG50YWJzKCk7XHJcbnNsaWRlcigncG9ydGZvbGlvLWNvbnRlbnQnLCAncG9ydGZvbGlvLWl0ZW0nLCAncG9ydGZvbGlvLWl0ZW0tYWN0aXZlJywgJ2RvdC1hY3RpdmUnKTtcclxuY2FsY3VsYXRvcigxMDApO1xyXG5zZW5kRm9ybSh7XHJcblx0Zm9ybUlkOiAnZm9ybTEnLFxyXG5cdHNvbWVFbGVtOiBbXHJcblx0XHR7XHJcblx0XHRcdHR5cGU6ICdibG9jaycsXHJcblx0XHRcdGlkOiAndG90YWwnLFxyXG5cdFx0fSxcclxuXHRdLFxyXG59KTtcclxuc2VuZEZvcm0oe1xyXG5cdGZvcm1JZDogJ2Zvcm0yJyxcclxuXHRzb21lRWxlbTogW1xyXG5cdFx0e1xyXG5cdFx0XHR0eXBlOiAnYmxvY2snLFxyXG5cdFx0XHRpZDogJ3RvdGFsJyxcclxuXHRcdH0sXHJcblx0XSxcclxufSk7XHJcbnNlbmRGb3JtKHtcclxuXHRmb3JtSWQ6ICdmb3JtMycsXHJcblx0c29tZUVsZW06IFtcclxuXHRcdHtcclxuXHRcdFx0dHlwZTogJ2Jsb2NrJyxcclxuXHRcdFx0aWQ6ICd0b3RhbCcsXHJcblx0XHR9LFxyXG5cdF0sXHJcbn0pO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///939\n")}},__webpack_exports__={};__webpack_modules__[939]()})();